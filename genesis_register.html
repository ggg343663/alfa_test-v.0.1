<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>ลงทะเบียน Genesis QR</title>
</head>
<body>
  <h2>สร้าง Genesis QR (ได้เฉพาะ hash QR)</h2>
  <form id="genesisForm">
    <label>Genesis Key (input): <input type="text" id="genesisKey" required></label>
    <button type="submit">สร้าง hash QR</button>
  </form>
  <p id="result"></p>
  <script>
    function sha256(str) {
      // ใช้ SubtleCrypto (Browser)
      const encoder = new TextEncoder();
      return crypto.subtle.digest('SHA-256', encoder.encode(str)).then(buf => {
        return Array.from(new Uint8Array(buf)).map(x=>x.toString(16).padStart(2,'0')).join('');
      });
    }
    document.getElementById('genesisForm').onsubmit = async function(e){
      e.preventDefault();
      const key = document.getElementById('genesisKey').value;
      const hash = await sha256(key);
      document.getElementById('result').innerText = 'hash QR: ' + hash;
    };
  </script>
</body>
</html>
