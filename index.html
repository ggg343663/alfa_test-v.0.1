<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DTC: Magic Chain System</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 700px;
      margin: 2em auto;
      padding: 1em;
      background: #f5f7fa;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 1.2em;
      letter-spacing: 0.02em;
    }
    .section {
      border-radius: 15px;
      box-shadow: 0 2px 10px rgba(30, 80, 170, 0.07);
      padding: 0.65em 0.7em 0.9em 0.7em;
      margin: 1.3em 0;
    }
    /* General Section */
    .general-section {
      background: #eafaf0;
      border-left: 6px solid #219150;
    }
    .general-title {
      color: #26733e;
      display: flex;
      align-items: center;
      gap: 0.4em;
      font-size: 1.19em;
      margin-bottom: 0.4em;
    }
    .general-list {
      display: flex;
      flex-direction: column;
      gap: 0.34em;
      margin: 0.65em 0 0 0;
    }
    .general-list a {
      display: block;
      width: 100%;
      padding: 0.55em 0.4em;
      background: #219150;
      color: #fff;
      font-weight: bold;
      border-radius: 7px;
      font-size: 1.09em;
      text-decoration: none;
      text-align: center;
      box-shadow: 0 2px 7px rgba(39,174,96,0.06);
      transition: background 0.13s;
    }
    .general-list a:first-child {
      background: #13a137;
    }
    .general-list a:hover {
      background: #176d38;
    }
    /* User Section */
    .user-section {
      background: #eaf2fd;
      border-left: 6px solid #246bfd;
    }
    .user-title {
      color: #2450ad;
      display: flex;
      align-items: center;
      gap: 0.4em;
      font-size: 1.13em;
      margin-bottom: 0.36em;
    }
    .user-list a {
      display: block;
      width: 100%;
      padding: 0.54em 0.4em;
      background: #246bfd;
      color: #fff;
      font-weight: bold;
      border-radius: 6px;
      font-size: 1.07em;
      text-align: center;
      text-decoration: none;
      margin-bottom: 0.28em;
      transition: background 0.12s;
    }
    .user-list a:hover {
      background: #1747a1;
    }
    .user-desc {
      color: #457;
      margin-bottom: 0.54em;
      font-size: 0.98em;
      text-align: center;
    }
    /* Master Section */
    .master-section {
      background: #fffbe8;
      border-left: 6px solid #eab308;
    }
    .master-title {
      color: #b58900;
      display: flex;
      align-items: center;
      gap: 0.4em;
      font-size: 1.13em;
      margin-bottom: 0.36em;
    }
    .master-list a {
      display: block;
      width: 100%;
      padding: 0.54em 0.4em;
      background: #facc15;
      color: #222;
      font-weight: bold;
      border-radius: 6px;
      font-size: 1.07em;
      text-align: center;
      text-decoration: none;
      margin-bottom: 0.28em;
      transition: background 0.11s;
    }
    .master-list a:hover {
      background: #eab308;
      color: #111;
    }
    .master-desc {
      color: #875e00;
      margin-bottom: 0.54em;
      font-size: 0.98em;
      text-align: center;
    }
    /* Genesis Section */
    .genesis-section {
      background: #f7f4fe;
      border-left: 6px solid #a78bfa;
    }
    .genesis-title {
      color: #7c3aed;
      display: flex;
      align-items: center;
      gap: 0.4em;
      font-size: 1.13em;
      margin-bottom: 0.36em;
    }
    .genesis-list a {
      display: block;
      width: 100%;
      padding: 0.54em 0.4em;
      background: #a78bfa;
      color: #fff;
      font-weight: bold;
      border-radius: 6px;
      font-size: 1.07em;
      text-align: center;
      text-decoration: none;
      margin-bottom: 0.28em;
      transition: background 0.11s;
    }
    .genesis-list a:hover {
      background: #7c3aed;
    }
    .genesis-desc {
      color: #714ab6;
      margin-bottom: 0.54em;
      font-size: 0.98em;
      text-align: center;
    }
    .footer-note {
      display: block;
      text-align: center;
      margin-top: 2em;
      color: #aaa;
      font-size: 0.95em;
    }
    @media (max-width: 600px) {
      body { margin: 0.4em; padding: 0.07em;}
      .section { padding: 0.34em 0.2em 0.55em 0.2em; }
    }
  </style>
</head>
<body>
  <h1>DTC: Magic Chain System</h1>

  <div class="section general-section">
    <div class="general-title">üü© General</div>
    <div class="general-list">
      <a href="<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>Generate QR Hash</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sha256/0.9.0/sha256.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f7fa;
      margin: 0; padding: 0;
    }
    .container {
      background: #fff;
      max-width: 430px;
      margin: 2.4em auto 1.5em auto;
      border-radius: 16px;
      box-shadow: 0 2px 15px #22c55e22;
      padding: 2em 1.2em 2.1em 1.2em;
      position: relative;
    }
    .btn-back {
      background: #e0e7ef;
      color: #232a3e;
      border: 1.2px solid #a7a7a7;
      border-radius: 7px;
      font-size: 1em;
      padding: 0.41em 1.13em;
      margin-bottom: 1.1em;
      margin-top: -0.7em;
      cursor: pointer;
      transition: background 0.14s;
      box-shadow: 0 1px 4px #0001;
      position: absolute; left: 18px; top: 18px;
    }
    .btn-back:hover { background: #c7f7fa; color: #222;}
    h2 {
      text-align: center;
      color: #22c55e;
      margin-bottom: 1.3em;
      font-size: 1.18em;
      letter-spacing: 0.01em;
    }
    label {
      display: block;
      margin-top: 1.12em;
      font-weight: bold;
      color: #16a34a;
      letter-spacing: 0.01em;
    }
    .input-green {
      width: 100%;
      padding: 0.58em 0.74em;
      font-size: 1.06em;
      border: 1.4px solid #22c55e;
      border-radius: 7px;
      background: #e7fbe8;
      color: #14532d;
      margin-top: 0.23em;
      transition: border 0.16s;
      box-sizing: border-box;
    }
    .input-green:focus { border-color: #16a34a; outline: none;}
    .status { font-size: 0.94em; margin-left: 6px;}
    .valid { color: #22c55e;}
    .invalid { color: #d93025;}
    .count {
      margin-left: 10px;
      color: #666;
      font-size: 0.97em;
      letter-spacing: 0.02em;
    }
    .paste-btn {
      background: #e0e7ef;
      border: 1px solid #bcd;
      color: #1e293b;
      border-radius: 6px;
      padding: 0.25em 0.7em;
      margin-left: 7px;
      font-size: 0.96em;
      cursor: pointer;
      transition: background 0.13s;
    }
    .paste-btn:hover { background: #c7f7fa; }
    .gen-btn {
      margin-top: 1.2em;
      padding: 0.69em 0;
      width: 100%;
      font-size: 1.07em;
      background: linear-gradient(90deg, #22c55e 70%, #0ea5e9 100%);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      letter-spacing: 0.02em;
      cursor: pointer;
      transition: background 0.16s;
      box-shadow: 0 1.5px 8px #22c55e18;
    }
    .gen-btn:hover { background: linear-gradient(90deg, #0ea5e9 40%, #22c55e 100%);}
    .hash-row {
      display: flex;
      align-items: center;
      gap: 0.4em;
      margin-top: 1.1em;
      margin-bottom: 0.6em;
    }
    .input-blue {
      width: 100%;
      padding: 0.52em 0.68em;
      font-size: 1.06em;
      border: 1.3px solid #0ea5e9;
      border-radius: 7px;
      background: #e0f2fe;
      color: #0369a1;
      transition: border 0.14s;
    }
    .copy-btn {
      background: #bae6fd;
      border: none;
      color: #0369a1;
      border-radius: 7px;
      padding: 0.35em 0.9em;
      cursor: pointer;
      font-size: 1em;
      margin-left: 0.18em;
      transition: background 0.13s;
    }
    .copy-btn:hover { background: #0ea5e9; color: #fff;}
    .input-black {
      width: 100%;
      padding: 0.44em 0.64em;
      font-size: 1em;
      border: 1.15px solid #232a3e;
      border-radius: 6px;
      background: #fff;
      color: #222;
      margin-top: 0.18em;
      margin-bottom: 0.25em;
      font-family: monospace;
    }
    .input-black[readonly] { background: #fff;}
    .black-label { color: #222; font-weight: 600; margin-top: 0.5em;}
    @media (max-width: 600px) {
      .container { max-width: 97vw; padding: 1em 0.4em 1.5em 0.4em;}
      .btn-back { position: static; margin: 0 0 1em 0;}
    }
    .error {
      color: #d93025;
      margin-top: 0.22em;
      font-size: 0.98em;
    }
  </style>
</head>
<body>
  <div class="container">
    <button class="btn-back" onclick="window.history.back()">‚Üê Back</button>
    <h2>üü© Generate QR Hash</h2>

    <label>Public Key (42 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£):</label>
    <div style="display:flex;align-items:center;gap:0.5em;">
      <input type="text" id="pubkey1" class="input-green" placeholder="0x..." autocomplete="off" style="flex:1;" />
      <button class="paste-btn" onclick="pasteClipboard('pubkey1')">Paste</button>
      <span class="count" id="count1">0</span>
    </div>
    <span id="keyStatus1" class="status"></span>

    <label>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô Public Key ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á:</label>
    <div style="display:flex;align-items:center;gap:0.5em;">
      <input type="text" id="pubkey2" class="input-green" placeholder="0x..." autocomplete="off" style="flex:1;" />
      <button class="paste-btn" onclick="pasteClipboard('pubkey2')">Paste</button>
      <span class="count" id="count2">0</span>
    </div>
    <span id="keyStatus2" class="status"></span>
    <span id="errorMsg" class="error"></span>

    <button class="gen-btn" onclick="generateHash()">Generate QR Hash</button>
    <div class="hash-row">
      <input type="text" id="qrHashInput" class="input-blue" placeholder="QR Hash" readonly>
      <button class="copy-btn" onclick="copyHash()">Copy</button>
    </div>
    <label class="black-label">Timestamp (‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô):</label>
    <input type="text" id="timestamp" class="input-black" readonly />
    <label class="black-label">Nonce (‡πÄ‡∏•‡∏Ç‡∏™‡∏∏‡πà‡∏°):</label>
    <input type="text" id="nonce" class="input-black" readonly />
  </div>
  <script>
    // Clipboard paste
    function pasteClipboard(id) {
      navigator.clipboard.readText().then(txt => {
        document.getElementById(id).value = txt;
        updateCountAndStatus();
      });
    }
    // Count length & live validate
    function updateCountAndStatus() {
      const v1 = pubkey1.value.trim();
      const v2 = pubkey2.value.trim();
      document.getElementById('count1').textContent = v1.length;
      document.getElementById('count2').textContent = v2.length;
      document.getElementById('keyStatus1').textContent = validatePubkey(v1) ? "‚úì ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á" : "";
      document.getElementById('keyStatus2').textContent = validatePubkey(v2) ? "‚úì ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á" : "";
      document.getElementById('keyStatus1').className = "status " + (validatePubkey(v1) ? "valid" : "invalid");
      document.getElementById('keyStatus2').className = "status " + (validatePubkey(v2) ? "valid" : "invalid");
      document.getElementById('errorMsg').textContent = (v1 && v2 && v1 !== v2) ? "Public Key ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏ä‡πà‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô" : "";
    }
    function validatePubkey(key) {
      return /^0x[a-fA-F0-9]{40}$/.test(key);
    }
    const pubkey1 = document.getElementById('pubkey1');
    const pubkey2 = document.getElementById('pubkey2');
    pubkey1.addEventListener('input', updateCountAndStatus);
    pubkey2.addEventListener('input', updateCountAndStatus);
    // Timestamp/Nonce
    const timestampEl = document.getElementById('timestamp');
    const nonceEl = document.getElementById('nonce');
    function updateTimestampNonce() {
      timestampEl.value = new Date().toISOString();
      nonceEl.value = Math.floor(Math.random() * 1e12).toString();
    }
    function generateHash() {
      const pk1 = pubkey1.value.trim();
      const pk2 = pubkey2.value.trim();
      if (!validatePubkey(pk1) || !validatePubkey(pk2)) {
        document.getElementById('errorMsg').textContent = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å Public Key ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏ä‡πà‡∏≠‡∏á";
        return;
      }
      if (pk1 !== pk2) {
        document.getElementById('errorMsg').textContent = "Public Key ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏ä‡πà‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô";
        return;
      }
      document.getElementById('errorMsg').textContent = "";
      updateTimestampNonce();
      const t = timestampEl.value;
      const n = nonceEl.value;
      const raw = `${pk1}|${t}|${n}`;
      const hash = sha256(raw);
      document.getElementById('qrHashInput').value = hash;
    }
    function copyHash() {
      const input = document.getElementById('qrHashInput');
      input.select();
      input.setSelectionRange(0, 99999); // mobile
      navigator.clipboard.writeText(input.value);
    }
    updateTimestampNonce();
    updateCountAndStatus();
  </script>
</body>
</html>">QR Hash</a>
      <a href="key_pair.html">Generate public key</a>
      <a href="transfer.html">Transfer QR code</a>
      <a href="verify_log.html">Check QR</a>
    </div>
  </div>

  <div class="section user-section">
    <div class="user-title">üü¶ User</div>
    <div class="user-desc">Register your QR ownership easily.</div>
    <div class="user-list">
      <a href="register.html">Register QR</a>
    </div>
  </div>

  <div class="section master-section">
    <div class="master-title">üü® Master</div>
    <div class="master-desc">Unlock advanced QR and manage rights.</div>
    <div class="master-list">
      <a href="request_master.html">Request Master (Commit-Hash)</a>
      <a href="master_unlock.html">Unlock Master</a>
      <a href="master_dashboard.html">Master Dashboard</a>
    </div>
  </div>

  <div class="section genesis-section">
    <div class="genesis-title">üü™ Genesis</div>
    <div class="genesis-desc">Approve Master, root authority only.</div>
    <div class="genesis-list">
      <a href="genesis_approve_master.html">Genesis Approve Master</a>
    </div>
  </div>

  <p class="footer-note">Develop &amp; Deploy on GitHub Pages ‚Ä¢ 100% Mobile-Friendly System</p>
</body>
</html>
